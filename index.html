<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Storybox</title>
  </head>

  <body>
    <div class="app-layout">
      <header class="debug-control">
        <menu>
          <button data-action="connect">Connect</button>
          <button data-action="mute">Mute</button>
          <button data-action="enable-camera">Enable camera</button>
          <button data-action="present">Present</button>
          <button data-action="debug-scenes">Scenes</button>
          <button data-action="debug-trailer">Trailer</button>
          <button data-action="debug-danmu">Danmu</button>
          <div id="caption-status"></div>
        </menu>
        <div class="monitor-layout">
          <img id="debug-capture" src="https://placehold.co/400?text=CAPTURE" />
        </div>
      </header>
      <div class="app-layout__float">
        <video id="camera-video" class="float-cam" poster="https://placehold.co/400?text=STREAM"></video>
      </div>
      <main class="app-layout__upper" data-stage="customizing">
        <div data-visible-stage="customizing" id="characters" class="character-grid"></div>
        <div data-visible-stage="editing" id="timeline"></div>
        <div data-visible-stage="editing" id="guests" class="guests-grid" hidden>
          <avatar-element></avatar-element>
          <avatar-element></avatar-element>
          <avatar-element></avatar-element>
        </div>
        <div data-visible-stage="trailer" id="trailer" class="trailer-layout">
          <img id="trailer-image" src="/trailer-cover.png" />
        </div>
        <div id="ending-title" class="movie-title" hidden></div>
        <div id="danmu"></div>
      </main>
      <div class="app-layout__lower">
        <div id="closed-caption" class="app-layout__caption-container"></div>
      </div>
    </div>
    <ai-bar auto-hide>
      <!-- <stt-node></stt-node> -->
      <azure-stt-node></azure-stt-node>
      <llm-node></llm-node>
      <azure-tts-node></azure-tts-node>
      <azure-dalle-node></azure-dalle-node>
      <together-ai-node></together-ai-node>
      <openai-realtime-node></openai-realtime-node>
      <eleven-labs-tts-node></eleven-labs-tts-node>
      <drag-handle></drag-handle>
      <hide-bar></hide-bar>
      <microphone-node></microphone-node>
      <camera-node video="camera-video"></camera-node>
      <azure-connection></azure-connection>
      <!-- <walkie-talkie-button></walkie-talkie-button> -->
    </ai-bar>
    <script src="/src/main.ts" type="module"></script>
  </body>
</html>
